<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentinel-5 | Data Import</title>
    <link rel="stylesheet" href="dist/output.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 3px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
    </style>

</head>
<body class="bg-background font-sans antialiased text-gray-800 h-screen overflow-hidden">

    <!-- Firebase Auth -->
    <script type="module" src="auth.js"></script>

    <script>
        const API_ENDPOINT = 'https://sentinel-upload-service-196547645490.asia-south1.run.app';
        const referenceSchema = [{"column_name":"patient_id","data_type":"INT64"},{"column_name":"site_code","data_type":"STRING"},{"column_name":"hospital_reg_id","data_type":"STRING"},{"column_name":"patient_entry_date","data_type":"DATE"},{"column_name":"pat_admi_location","data_type":"INT64"},{"column_name":"patient_name","data_type":"STRING"},{"column_name":"pat_mid_name","data_type":"STRING"},{"column_name":"pat_sodo","data_type":"STRING"},{"column_name":"pat_age","data_type":"INT64"},{"column_name":"pat_agemonths","data_type":"STRING"},{"column_name":"pat_agedays","data_type":"INT64"},{"column_name":"pat_sex","data_type":"INT64"},{"column_name":"pat_contact_his","data_type":"INT64"},{"column_name":"pat_health_worker","data_type":"INT64"},{"column_name":"pat_hw_contact","data_type":"INT64"},{"column_name":"pat_travel_his","data_type":"INT64"},{"column_name":"pat_travel_type","data_type":"INT64"},{"column_name":"pat_travel_int","data_type":"STRING"},{"column_name":"pat_travel_dom","data_type":"INT64"},{"column_name":"pat_country","data_type":"STRING"},{"column_name":"statename","data_type":"STRING"},{"column_name":"districtname","data_type":"STRING"},{"column_name":"subdistrictname","data_type":"STRING"},{"column_name":"villagename","data_type":"STRING"},{"column_name":"latitude","data_type":"FLOAT64"},{"column_name":"longitude","data_type":"FLOAT64"},{"column_name":"pat_street","data_type":"STRING"},{"column_name":"pat_house","data_type":"STRING"},{"column_name":"pat_pincode","data_type":"INT64"},{"column_name":"pat_areatype","data_type":"STRING"},{"column_name":"pat_occupation","data_type":"INT64"},{"column_name":"pat_occupation_others","data_type":"STRING"},{"column_name":"clini_date_illness","data_type":"STRING"},{"column_name":"clini_dura_days","data_type":"INT64"},{"column_name":"clini_primary_syn","data_type":"STRING"},{"column_name":"syndrome_other_p","data_type":"STRING"},{"column_name":"sym_fever","data_type":"BOOL"},{"column_name":"sym_new_onset_of_seizures","data_type":"BOOL"},{"column_name":"sym_dysentery","data_type":"BOOL"},{"column_name":"sym_jaundice","data_type":"BOOL"},{"column_name":"sym_papule_rash","data_type":"BOOL"},{"column_name":"sym_vomiting","data_type":"BOOL"},{"column_name":"sym_myalgia","data_type":"BOOL"},{"column_name":"sym_breathlessness","data_type":"BOOL"},{"column_name":"sym_sore_throat","data_type":"BOOL"},{"column_name":"sym_cough","data_type":"BOOL"},{"column_name":"sym_yellow_urine","data_type":"BOOL"},{"column_name":"sym_yellow_skin","data_type":"BOOL"},{"column_name":"sym_eschar","data_type":"STRING"},{"column_name":"sym_altered_sensorium","data_type":"BOOL"},{"column_name":"sym_increased_somnolence","data_type":"BOOL"},{"column_name":"sym_dark_urine","data_type":"BOOL"},{"column_name":"sym_yellow_sclera","data_type":"BOOL"},{"column_name":"sym_nausea","data_type":"BOOL"},{"column_name":"sym_irritability","data_type":"BOOL"},{"column_name":"sym_diarrhea","data_type":"BOOL"},{"column_name":"sym_neck_rigidity","data_type":"BOOL"},{"column_name":"sym_headache","data_type":"BOOL"},{"column_name":"sym_chills","data_type":"BOOL"},{"column_name":"sym_malaise","data_type":"BOOL"},{"column_name":"sym_discharge_eyes","data_type":"STRING"},{"column_name":"sym_arthralgia","data_type":"BOOL"},{"column_name":"sym_abdominal_pain","data_type":"BOOL"},{"column_name":"sym_redness_eyes","data_type":"BOOL"},{"column_name":"sym_retro_orb_pain","data_type":"BOOL"},{"column_name":"sym_other_symptom","data_type":"BOOL"},{"column_name":"symptom_other","data_type":"STRING"},{"column_name":"vit_pulse","data_type":"INT64"},{"column_name":"vit_bp_sys","data_type":"INT64"},{"column_name":"vit_bp_dia","data_type":"INT64"},{"column_name":"vit_temp","data_type":"INT64"},{"column_name":"vit_resp_rate","data_type":"INT64"},{"column_name":"vit_spo2","data_type":"INT64"},{"column_name":"vit_dehyd","data_type":"INT64"},{"column_name":"vit_icterus","data_type":"INT64"},{"column_name":"vit_edema","data_type":"INT64"},{"column_name":"vit_conj","data_type":"INT64"},{"column_name":"vit_conj_sub","data_type":"INT64"},{"column_name":"vit_eschar","data_type":"INT64"},{"column_name":"vit_eschar_value","data_type":"INT64"},{"column_name":"vit_cbc_done","data_type":"INT64"},{"column_name":"vit_cbc_hemat","data_type":"FLOAT64"},{"column_name":"vit_cbc_hb","data_type":"FLOAT64"},{"column_name":"vit_cbc_rbc","data_type":"FLOAT64"},{"column_name":"vit_cbc_wbc","data_type":"FLOAT64"},{"column_name":"vit_cbc_dc_n","data_type":"FLOAT64"},{"column_name":"vit_cbc_dc_l","data_type":"FLOAT64"},{"column_name":"vit_cbc_dc_m","data_type":"FLOAT64"},{"column_name":"vit_cbc_dc_e","data_type":"FLOAT64"},{"column_name":"vit_cbc_dc_b","data_type":"FLOAT64"},{"column_name":"vit_cbc_esr","data_type":"FLOAT64"},{"column_name":"vit_cbc_plat","data_type":"INT64"},{"column_name":"vit_lf_done","data_type":"INT64"},{"column_name":"vit_lf_al","data_type":"FLOAT64"},{"column_name":"vit_lf_pro","data_type":"FLOAT64"},{"column_name":"vit_lf_ast","data_type":"FLOAT64"},{"column_name":"vit_lf_alt","data_type":"FLOAT64"},{"column_name":"vit_lf_ggt","data_type":"INT64"},{"column_name":"vit_lf_bil_d","data_type":"FLOAT64"},{"column_name":"vit_lf_bil_i","data_type":"FLOAT64"},{"column_name":"vit_lf_bil_t","data_type":"FLOAT64"},{"column_name":"vit_rf_done","data_type":"INT64"},{"column_name":"vit_rf_urea","data_type":"FLOAT64"},{"column_name":"vit_rf_creat","data_type":"FLOAT64"},{"column_name":"vit_rf_chl","data_type":"FLOAT64"},{"column_name":"vit_rf_sod","data_type":"FLOAT64"},{"column_name":"vit_rf_pot","data_type":"FLOAT64"},{"column_name":"vit_rf_uric","data_type":"FLOAT64"},{"column_name":"vit_rf_cal","data_type":"FLOAT64"},{"column_name":"vit_rf_urea_r","data_type":"INT64"},{"column_name":"vit_apr_done","data_type":"INT64"},{"column_name":"vit_apr_crp","data_type":"FLOAT64"},{"column_name":"vit_apr_ldh","data_type":"FLOAT64"},{"column_name":"vit_apr_ddimer","data_type":"FLOAT64"},{"column_name":"vit_apr_ferr","data_type":"FLOAT64"},{"column_name":"vit_apr_tferr","data_type":"FLOAT64"},{"column_name":"vit_apr_proca","data_type":"FLOAT64"},{"column_name":"vit_diag","data_type":"STRING"},{"column_name":"vit_comorbid","data_type":"INT64"},{"column_name":"vit_comorbid_others","data_type":"STRING"},{"column_name":"vit_icu_shift","data_type":"INT64"},{"column_name":"vit_icu_duration","data_type":"INT64"},{"column_name":"vit_outcome","data_type":"INT64"},{"column_name":"vit_death_cause","data_type":"STRING"},{"column_name":"vit_discharge_date","data_type":"STRING"}];
        
        let selectedFile = null;

        window.goBack = function() {
            window.location.href = 'index.html';
        }
        
        // Set today's date as default
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('exportDate').value = today;
        });
        
        async function exportClusterReport() {
            const exportDate = document.getElementById('exportDate').value;
            const exportStatus = document.getElementById('exportStatus');
            
            if (!exportDate) {
                exportStatus.innerHTML = '❌ Please select a date';
                exportStatus.className = 'mt-2 text-xs text-danger';
                exportStatus.classList.remove('hidden');
                return;
            }
            
            exportStatus.innerHTML = '⏳ Generating report...';
            exportStatus.className = 'mt-2 text-xs text-primary';
            exportStatus.classList.remove('hidden');
            
            try {
                const response = await fetch(`https://asia-south1-sentinel-h-5.cloudfunctions.net/export-data?date=${exportDate}`);
                
                if (response.ok) {
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `cluster_report_${exportDate}.xlsx`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);
                    
                    exportStatus.innerHTML = '✅ Report downloaded successfully';
                    exportStatus.className = 'mt-2 text-xs text-success';
                } else {
                    const error = await response.json();
                    throw new Error(error.error || 'Export failed');
                }
            } catch (error) {
                exportStatus.innerHTML = `❌ ${error.message}`;
                exportStatus.className = 'mt-2 text-xs text-danger';
            }
            
            setTimeout(() => {
                exportStatus.classList.add('hidden');
            }, 5000);
        }

        function handleFileSelect(event) {
            selectedFile = event.target.files[0];
            if (selectedFile) {
                document.getElementById('fileName').textContent = selectedFile.name;
                document.getElementById('fileSize').textContent = (selectedFile.size / 1024).toFixed(2) + ' KB';
                document.getElementById('fileInfo').classList.remove('hidden');
                document.getElementById('uploadBtn').disabled = false;
                document.getElementById('uploadStatus').classList.add('hidden');
            }
        }

        async function uploadCSV() {
            if (!selectedFile) return;
            
            const uploadBtn = document.getElementById('uploadBtn');
            const uploadStatus = document.getElementById('uploadStatus');
            
            uploadBtn.disabled = true;
            uploadStatus.textContent = 'Validating...';
            uploadStatus.className = 'mt-2 p-2 rounded bg-primary/10 text-primary text-xs';
            uploadStatus.classList.remove('hidden');
            
            const reader = new FileReader();
            reader.onload = async function(e) {
                try {
                    const csvData = Papa.parse(e.target.result, { header: true, skipEmptyLines: true });
                    const headers = csvData.meta.fields;
                    const rows = csvData.data;
                    const requiredColumns = referenceSchema.map(col => col.column_name);
                    
                    let errors = [];
                    
                    // Validate columns
                    headers.forEach(header => {
                        if (!requiredColumns.includes(header)) {
                            errors.push(`Unknown column: ${header}`);
                        }
                    });
                    
                    requiredColumns.forEach(required => {
                        if (!headers.includes(required)) {
                            errors.push(`Missing column: ${required}`);
                        }
                    });
                    
                    if (errors.length) {
                        uploadStatus.innerHTML = `<strong>❌ Validation Failed</strong><br>${errors.slice(0, 3).join('<br>')}${errors.length > 3 ? '<br>...+' + (errors.length - 3) + ' more' : ''}`;
                        uploadStatus.className = 'mt-2 p-2 rounded bg-danger/10 text-danger text-xs';
                        uploadBtn.disabled = false;
                        return;
                    }
                    
                    uploadStatus.textContent = 'Processing...';
                    
                    // Process rows
                    const processedRows = rows.map(row => {
                        row.latitude = '';
                        row.longitude = '';
                        
                        const addressParts = [
                            row.pat_house || '',
                            row.pat_street || '',
                            row.villagename || '',
                            row.subdistrictname || '',
                            row.districtname || '',
                            row.statename || '',
                            row.pat_pincode || ''
                        ].filter(part => part.trim()).join(' | ');
                        
                        row.complete_address_column = addressParts;
                        row.unique_id = `${row.patient_id || ''}_${row.site_code || ''}_${row.patient_entry_date || ''}`;
                        
                        return row;
                    });
                    
                    // Deduplication
                    const seenIds = new Set();
                    const deduplicatedRows = processedRows.filter(row => {
                        if (seenIds.has(row.unique_id)) {
                            return false;
                        }
                        seenIds.add(row.unique_id);
                        return true;
                    });
                    
                    const duplicateCount = processedRows.length - deduplicatedRows.length;
                    
                    uploadStatus.innerHTML = `<strong>✓ Validated</strong> - Uploading ${deduplicatedRows.length} records...`;
                    
                    // Upload
                    const modifiedCSV = Papa.unparse(deduplicatedRows);
                    const formData = new FormData();
                    formData.append('file', new File([modifiedCSV], `validated_${selectedFile.name}`, { type: 'text/csv' }));
                    
                    const response = await fetch(`${API_ENDPOINT}/upload`, {
                        method: 'POST',
                        body: formData
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        uploadStatus.innerHTML = `
                            <strong>✓ Success!</strong> ${result.fileName}<br>
                            Records: ${deduplicatedRows.length} | Duplicates: ${duplicateCount}
                        `;
                        uploadStatus.className = 'mt-2 p-2 rounded bg-success/10 text-success text-xs';
                        
                        // Reset form
                        setTimeout(() => {
                            selectedFile = null;
                            document.getElementById('csvFileInput').value = '';
                            document.getElementById('fileInfo').classList.add('hidden');
                            uploadBtn.disabled = true;
                            uploadStatus.classList.add('hidden');
                        }, 8000);
                    } else {
                        throw new Error(result.error || 'Upload failed');
                    }
                } catch (error) {
                    uploadStatus.innerHTML = `<strong>❌ Error:</strong> ${error.message}`;
                    uploadStatus.className = 'mt-2 p-2 rounded bg-danger/10 text-danger text-xs';
                    uploadBtn.disabled = false;
                }
            };
            
            reader.readAsText(selectedFile);
        }
    </script>

    <!-- Main Container -->
    <div class="flex flex-col h-screen">
        
        <!-- Header Bar -->
        <div class="bg-white shadow-sm border-b border-gray-200 px-2 py-1 flex items-center justify-between">
            <div class="flex items-center space-x-1.5">
                <button onclick="goBack()" class="flex items-center space-x-0.5 text-gray-600 hover:text-primary transition-colors">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    <span class="text-xs font-medium">Back</span>
                </button>
                <div class="h-4 w-px bg-gray-300"></div>
                <h1 class="text-sm font-bold text-gray-800">Sentinel-5</h1>
                <span class="text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded">Data Import</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 overflow-hidden p-4">
            <div class="grid grid-cols-2 gap-4 h-full">
                
                <!-- Left Container - Import -->
                <div class="bg-white rounded-lg shadow border border-gray-200 p-4 overflow-auto custom-scroll">
                    <h2 class="text-lg font-bold text-gray-800 mb-3 border-b pb-2 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                        Data Import
                    </h2>
                    
                    <!-- Upload Section -->
                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-800 mb-2">Upload CSV File</h3>
                        
                        <div class="border-2 border-dashed border-gray-300 rounded p-4 text-center hover:border-primary transition-colors cursor-pointer" onclick="document.getElementById('csvFileInput').click()">
                            <svg class="w-10 h-10 mx-auto text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                            <p class="text-xs text-gray-700 mb-1 font-medium">Click to select CSV file</p>
                            <p class="text-xs text-gray-500">or drag and drop</p>
                            <input type="file" id="csvFileInput" accept=".csv" class="hidden" onchange="handleFileSelect(event)">
                        </div>
                        
                        <div id="fileInfo" class="mt-2 p-2 bg-gray-50 rounded hidden">
                            <div class="flex items-center justify-between">
                                <div class="text-xs">
                                    <p class="text-gray-700"><strong>File:</strong> <span id="fileName"></span></p>
                                    <p class="text-gray-600"><strong>Size:</strong> <span id="fileSize"></span></p>
                                </div>
                                <svg class="w-5 h-5 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                        </div>
                        
                        <button id="uploadBtn" onclick="uploadCSV()" class="mt-2 w-full bg-primary hover:bg-blue-600 text-white font-medium py-1.5 px-3 rounded transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Validate & Upload
                        </button>
                        
                        <div id="uploadStatus" class="hidden"></div>
                    </div>

                    <!-- Requirements Section -->
                    <div class="border-t pt-4">
                        <h3 class="text-sm font-semibold text-gray-800 mb-2">Requirements</h3>
                        <ul class="space-y-1 text-xs text-gray-600">
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-primary mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>CSV format with 125 required columns</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-primary mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>Auto-validates schema and removes duplicates</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-primary mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>Processed through BigQuery sync pipeline</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-primary mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>Geocoding runs every 15 min (100 records/batch)</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Right Container - Export -->
                <div class="bg-white rounded-lg shadow border border-gray-200 p-4 overflow-auto custom-scroll">
                    <h2 class="text-lg font-bold text-gray-800 mb-3 border-b pb-2 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                        </svg>
                        Data Export
                    </h2>
                    
                    <!-- Export Options -->
                    <div class="space-y-3">
                        <div class="border border-gray-200 rounded p-3 hover:border-success transition-colors">
                            <div class="flex items-start justify-between mb-2">
                                <div>
                                    <h4 class="text-sm font-semibold text-gray-800">Export Cluster Report</h4>
                                    <p class="text-xs text-gray-600 mt-1">Download Excel report with clustered cases and expansions</p>
                                </div>
                                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                            </div>
                            <div class="mb-2">
                                <label class="text-xs text-gray-600 block mb-1">Select Date:</label>
                                <input type="date" id="exportDate" class="w-full text-xs border border-gray-300 rounded px-2 py-1" value="">
                            </div>
                            <button onclick="exportClusterReport()" class="w-full bg-success hover:bg-green-600 text-white font-medium py-1.5 px-3 rounded transition-colors text-xs">
                                Export Excel Report
                            </button>
                            <div id="exportStatus" class="hidden mt-2 text-xs"></div>
                        </div>
                    </div>

                    <!-- Export Info -->
                    <div class="border-t pt-4 mt-4">
                        <h3 class="text-sm font-semibold text-gray-800 mb-2">Export Information</h3>
                        <ul class="space-y-1 text-xs text-gray-600">
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-success mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>Excel format with multiple sheets</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-success mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>Exports past 7 days from selected date</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-3.5 h-3.5 text-success mr-1.5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>Includes clustered cases and expansion cases</span>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

    </div>

</body>
</html>
